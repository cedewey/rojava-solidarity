!function(t){var n=function(n){var e={button:t('<button class="button--toggle"></button>'),collapsed:!0,on_content:"Collapse",off_content:"Expand",on_target:null,off_target:null,insert_method:"append",container:null,update_button:!0,on_click:function(){}},o=!1,a=function(n){return t.extend(!0,e,n),s=e,u("Initialize toggle.js"),s.on_target=s.on_target||s.container,l(),s.insert_method&&s.container[s.insert_method](s.button),s.collapsed&&s.button.trigger("collapse"),{settings:s,button:t(s.button),collapse:function(){this.button.trigger("collapse")},expand:function(){this.button.trigger("expand")}}},l=function(){var t=e,n=t.button,o=t.collapse,a=t.on_target,l=t.off_target;u("binding events"),n.bind({click:r,touchstart:r,collapse:c,expand:i}),n.trigger(o?"collapse":"expand"),a.bind({collapse:p,expand:g}),a.trigger(o?"collapse":"expand"),null!==l&&(l.bind({collapse:p,expand:g}),l.trigger(o?"expand":"collapse"))},r=function(n){var o=t(this);return o.trigger(o.data("collapsed")?"expand":"collapse"),e.on_click(),n.stopPropagation(),!1},c=function(){var n=e,o=t(this),a=n.off_target,l=n.on_target;u("collapsing button"),o.data("collapsed",!0).attr("collapsed",!0),n.update_button&&o.html(n.off_content),u("trigger collapse target on"),u(l),l.trigger("collapse"),null!==a&&a.trigger("expand")},i=function(){var n=e,o=t(this),a=n.off_target,l=n.on_target;o.data("collapsed",!1).attr("collapsed",!1),n.update_button&&o.html(n.on_content),l.trigger("expand"),null!==a&&a.trigger("collapse")},p=function(){u("collapsing target"),t(this).data("collapsed",!0).attr("collapsed",!0)},g=function(){t(this).data("collapsed",!1).attr("collapsed",!1)},u=function(){o&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(console,arguments)};return a(n)};this.toggle=n}(jQuery);